import{a4 as oe,_ as H,u as K,f as Ne,I as Ue,v as Fe,q as Pe,F as He,a5 as Ee}from"./index.d740cb91.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                */import{d as N,r as f,C as n,aE as r,aH as e,aI as t,aM as c,aN as s,F as E,ca as Y,cb as X,bN as Z,ba as G,bV as O,aY as ce,D as I,G as C,u as k,br as Ge,bm as Oe,aK as q,aJ as x,b9 as ee,bj as ue,bk as de,o as Qe,bP as _e,bQ as pe,bR as me,c as We,a$ as Je,bl as J,aF as se,c0 as Ke,c1 as Ye,b5 as Xe,b6 as Ze,c5 as et,bb as tt,ac as at,c9 as nt,cc as lt,a_ as ot,bs as st,aR as rt}from"./arco.a9e9ea8e.js";import{q as fe,a as ve,b as ye}from"./user-center.a189facc.js";import{M as re,g as it}from"./message-box.fb0b5c3f.js";/* empty css               *//* empty css               */import{s as ct}from"./model-list.d13da735.js";import{h as ut}from"./dataset.9f6bf8bd.js";import{u as he}from"./loading.992f9f87.js";import"./chart.095b9a7e.js";import"./vue.6f0b04ed.js";/* empty css              *//* empty css                */import"./user-info.e23f06cc.js";const dt=N({__name:"card-wrap",props:{contentType:{type:String},ID:{type:Number},userID:{type:Number},content:{type:Object}},setup(v){const d=v,_=f(!0),$=()=>{d.contentType==="llm"?ct(d.ID):ut(d.ID),_.value=!_.value},S=async()=>{d.contentType==="llm"?await oe.push({name:"leaderboardDetails",params:{toShowDetailsID:d.ID.toString()}}):await oe.push({name:"datasetDetails",params:{toShowDetailsID:d.ID.toString()}})};return(l,i)=>{const h=Y,D=X,o=Z,p=G,M=O,b=ce;return n(),r(p,{direction:"horizontal",key:_.value,style:E({visibility:v.content.name!==void 0?"visible":"hidden",alignItems:"center",justifyContent:"center",display:"flex"})},{default:e(()=>[t(M,{style:{height:"16vh",width:"16vw"},"body-style":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},class:"clickable-card",onClick:S},{default:e(()=>[l.loading?(n(),r(D,{key:0,loading:l.loading,animation:!0},{default:e(()=>[t(h,{rows:3})]),_:1},8,["loading"])):(n(),r(p,{key:1,size:"medium",direction:"vertical",style:{"align-items":"center","justify-content":"center"}},{default:e(()=>[v.content.name!==void 0?(n(),r(o,{key:0,class:"card-title",bold:""},{default:e(()=>[c(s(v.content.name),1)]),_:1})):(n(),r(o,{key:1,class:"card-title"},{default:e(()=>[c(s("placeholder"))]),_:1})),v.content.name===void 0?(n(),r(o,{key:2,class:"card-content"},{default:e(()=>[c(s(" placeholder"))]),_:1})):v.contentType==="llm"?(n(),r(o,{key:3,class:"card-content",type:"secondary"},{default:e(()=>[c(s(`${l.$t("userInfo.subscribedModel.ranking")} ${v.content.ranking}
            ${l.$t("userInfo.subscribedModel.ranking.suffix")}`),1)]),_:1})):(n(),r(o,{key:4,class:"card-content",type:"secondary"},{default:e(()=>[c(s(v.content.domain),1)]),_:1}))]),_:1}))]),_:1}),_.value?(n(),r(b,{key:0,type:"secondary",size:"large",style:{"margin-left":"1vw","font-size":"1.5vh","font-weight":"bolder",padding:"1vh 1vw"},onClick:$},{default:e(()=>[c(s(l.$t("userInfo.subscription.card.subscribed.btn")),1)]),_:1})):(n(),r(b,{key:1,type:"primary",size:"large",style:{"margin-left":"1vw","font-size":"1.5vh","font-weight":"bolder",padding:"1vh 1vw"},onClick:$},{default:e(()=>[c(s(l.$t("userInfo.subscription.card.subscribe.btn")),1)]),_:1}))]),_:1},8,["style"])}}});const _t=H(dt,[["__scopeId","data-v-abc37851"]]),pt={class:"header"},mt=["src"],ft={class:"user-msg"},vt={key:0},yt={key:1},ht=N({__name:"user-info-header",setup(v){const d=K();return(_,$)=>{const S=Ge,l=Oe,i=Ne,h=Z,D=Ue,o=G;return n(),I("div",pt,[t(o,{size:12,direction:"vertical",align:"center"},{default:e(()=>[t(S,{size:64},{default:e(()=>[C("img",{src:k(d).avatar},null,8,mt)]),_:1}),t(l,{heading:6,style:{margin:"0"}},{default:e(()=>[c(s(k(d).username),1)]),_:1}),C("div",ft,[t(o,{size:18},{default:e(()=>[k(d).role==="admin"?(n(),I("div",vt,[t(i),t(h,null,{default:e(()=>[c(s(_.$t("userInfo.type.admin")),1)]),_:1})])):(n(),I("div",yt,[t(D),t(h,null,{default:e(()=>[c(s(_.$t("userInfo.type.user")),1)]),_:1})]))]),_:1})])]),_:1})])}}});const bt=H(ht,[["__scopeId","data-v-84dbf432"]]),gt={style:{"font-weight":"900"}},ie=N({__name:"subscribed-list",props:["userID","subscriptionType"],emits:["showMore"],setup(v,{emit:d}){const _=v,$=d,{loading:S,setLoading:l}=he(!0),i=f(new Array(6).fill({})),h=async()=>{try{let o;if(_.subscriptionType==="llm"?o=await fe(_.userID):o=await ve(_.userID),o.length>6)o=o.slice(0,6);else for(;o.length<6;)o.push({});i.value=o}catch{}finally{l(!1)}},D=()=>{$("showMore",_.subscriptionType==="llm"?1:2)};return h(),(o,p)=>{const M=ee,b=Y,T=X,g=Z,w=G,L=O,z=ue,R=de;return n(),r(L,{class:"general-card"},{title:e(()=>[C("span",gt,s(v.subscriptionType==="llm"?o.$t("userInfo.title.subscribedModels"):o.$t("userInfo.title.subscribedDatasets")),1)]),extra:e(()=>[t(M,{onClick:D},{default:e(()=>[c(s(o.$t("userInfo.viewAll")),1)]),_:1})]),default:e(()=>[t(R,{gutter:[16,16]},{default:e(()=>[(n(!0),I(q,null,x(i.value,(y,A)=>(n(),r(z,{key:A,xs:12,sm:12,md:12,lg:12,xl:8,xxl:8,class:"my-project-item"},{default:e(()=>[t(L,{style:E({visibility:y.name!==void 0?"visible":"hidden"})},{default:e(()=>[k(S)?(n(),r(T,{key:0,loading:k(S),animation:!0},{default:e(()=>[t(b,{rows:3})]),_:1},8,["loading"])):(n(),r(w,{key:1,size:"medium",direction:"vertical"},{default:e(()=>[y.name!==void 0?(n(),r(g,{key:0,bold:""},{default:e(()=>[c(s(y.name),1)]),_:2},1024)):(n(),r(g,{key:1},{default:e(()=>[c(s("placeholder"))]),_:1})),v.subscriptionType==="llm"&&y.ranking!==void 0?(n(),r(g,{key:2,type:"secondary"},{default:e(()=>[c(s(`${o.$t("userInfo.subscribedModel.ranking")} ${y.ranking}
            ${o.$t("userInfo.subscribedModel.ranking.suffix")}`),1)]),_:2},1024)):y.domain!==void 0?(n(),r(g,{key:3,type:"secondary"},{default:e(()=>[c(s(y.domain),1)]),_:2},1024)):(n(),r(g,{key:4,style:{visibility:"hidden"}},{default:e(()=>[c(s("placeholder"))]),_:1}))]),_:2},1024))]),_:2},1032,["style"])]),_:2},1024))),128))]),_:1})]),_:1})}}}),It={style:{"font-weight":"900"}},wt=N({__name:"adversarial-records",emits:["showMore"],setup(v,{emit:d}){const{loading:_,setLoading:$}=he(!0),S=K(),l=d,i=f([]),h=f(!1),D=()=>{try{ye(parseInt(S.accountId,10)).then(p=>{i.value=p,i.value.length>4?i.value=i.value.slice(0,4):i.value.length===0&&(i.value=[{}])})}catch{}finally{$(!1)}},o=()=>{l("showMore",3)};return Qe(()=>{D()}),(p,M)=>{const b=ee,T=Y,g=X,w=_e,L=pe,z=me,R=O;return n(),r(R,{class:"general-card",style:{height:"100%"},key:h.value},{title:e(()=>[C("span",It,s(p.$t("userInfo.title.adversarialRecords")),1)]),extra:e(()=>[t(b,{onClick:o},{default:e(()=>[c(s(p.$t("userInfo.viewAll")),1)]),_:1})]),default:e(()=>[t(z,{bordered:!1},{default:e(()=>[k(_)?(n(),r(g,{key:0,loading:k(_),animation:!0},{default:e(()=>[t(T,{rows:8})]),_:1},8,["loading"])):(n(!0),I(q,{key:1},x(i.value,(y,A)=>(n(),r(L,{key:A},{default:e(()=>[t(w,{title:`${p.$t("userInfo.adversarial.models")}${y.model} & ${y.adversarialModel}`,description:y.battleTime,style:E({visibility:y.id!==void 0?"visible":"hidden"})},null,8,["title","description","style"])]),_:2},1024))),128))]),_:1})]),_:1})}}});const kt=H(wt,[["__scopeId","data-v-6e93ec12"]]),$t={class:"container"},Dt={class:"content"},St={style:{"font-weight":"900"}},Ct={key:0,style:{"font-size":"3vh"}},Mt={key:1,style:{"font-size":"3vh"}},Tt={key:2,style:{"font-size":"3vh"}},zt={key:3,style:{"font-size":"3vh"}},Bt={class:"card-wrap"},Lt={style:{display:"flex","flex-direction":"column",height:"70vh"}},Rt={style:{"font-size":"2vh","font-weight":"600","padding-bottom":"1.5vh","border-bottom":"solid 4px lightgrey"}},Vt={name:"Info"},jt=N({...Vt,setup(v){const d=K(),_=f(!1),$=f(!1),{t:S}=Fe.exports.useI18n(),l=f([]),i=f(1),h=f(!1),D=f(),o=f(1),p=f(8),M=f(""),b=f(),T=f(""),g=f(""),w=f([]),L=f([]);We(()=>L.value.filter(a=>!a.read).length);const z=async()=>{i.value===1?l.value=await fe(parseInt(d.accountId,10)):i.value===2?l.value=await ve(parseInt(d.accountId,10)):i.value===3?(l.value=await ye(parseInt(d.accountId,10)),l.value.sort((a,m)=>new Date(a.battleTime)>new Date(m.battleTime)?-1:new Date(a.battleTime)<new Date(m.battleTime)?1:a.model>m.model?-1:1)):L.value=await it(J(),S)},R=a=>{i.value=a,T.value="",g.value="",w.value=[],a===3&&(p.value=7),z().then(()=>{a<4?(D.value=l.value.length,l.value=l.value.slice(0,p.value),M.value=""):D.value=L.value.length,_.value=!0})},y=()=>{_.value=!1,h.value=!h.value},A=()=>{const a=document.querySelector(".arco-drawer-header");a&&(a.style.height="8vh",a.style.paddingLeft="3vw");const m=document.querySelector(".arco-drawer-body");if(m&&(m.style.display="flex",m.style.flexDirection="column",m.style.justifyContent="center"),i.value<3){const B=document.querySelector(".drawer-space > .arco-space-item");B&&(B.style.display="flex",B.style.alignItems="center",B.style.justifyContent="center")}const U=document.querySelector(".arco-drawer-close-btn");U&&(U.style.visibility="hidden")},be=a=>{z().then(()=>{o.value=a,l.value=l.value.slice((a-1)*p.value,o.value*p.value)})},te=()=>{z().then(()=>{o.value=1,l.value=l.value.filter(a=>a.name.includes(M.value)),l.value=l.value.slice(0,p.value)})},ge=()=>{z().then(()=>{o.value=1,l.value=l.value.filter(a=>a.model.includes(T.value)&&a.adversarialModel.includes(g.value)&&(new Date(a.battleTime)>=new Date(w.value[0])||new Date(w.value[0]).toString()==="Invalid Date")&&(new Date(a.battleTime)<=new Date(w.value[1])||new Date(w.value[1]).toString()==="Invalid Date")),l.value=l.value.slice(0,p.value)})},Ie=()=>{T.value="",g.value="",w.value=[],z().then(()=>{o.value=1,l.value=l.value.slice(0,p.value)})},we=a=>{$.value=!0,b.value=a},ke=()=>{$.value=!1},$e=()=>{Pe.emit("messageRead")};return(a,m)=>{const U=Je("Breadcrumb"),B=Ke,ae=Ye,V=ue,De=ee,Se=O,ne=Xe,j=Ze,F=de,Ce=et,le=tt,Me=at,Q=ce,Te=He,ze=_e,Be=Ee,Le=pe,Re=me,W=G,Ve=nt,je=lt,Ae=ot,qe=st,xe=rt;return n(),I("div",$t,[t(U,{items:["menu.user","menu.user.info"]},null,8,["items"]),t(bt),C("div",Dt,[t(V,{class:"content-top",span:24},{default:e(()=>[t(ae,{cols:2,"col-gap":16,"row-gap":16},{default:e(()=>[t(B,null,{default:e(()=>[(n(),r(ie,{userID:k(d).accountId,subscriptionType:"llm",onShowMore:R,key:h.value},null,8,["userID"]))]),_:1}),t(B,null,{default:e(()=>[(n(),r(ie,{userID:k(d).accountId,subscriptionType:"dataset",onShowMore:R,key:h.value},null,8,["userID"]))]),_:1})]),_:1})]),_:1}),t(V,{class:"content-bottom",span:24,style:{"margin-top":"2vh"}},{default:e(()=>[t(ae,{cols:24,"col-gap":16,"row-gap":16,style:{height:"60vh"}},{default:e(()=>[t(B,{span:16},{default:e(()=>[t(kt,{onShowMore:R})]),_:1}),t(B,{span:8},{default:e(()=>[t(Se,{class:"general-card",style:{height:"100%"}},{title:e(()=>[C("span",St,s(a.$t("userInfo.title.receivedMessages")),1)]),extra:e(()=>[t(De,{onClick:m[0]||(m[0]=u=>R(4))},{default:e(()=>[c(s(a.$t("userInfo.viewAll")),1)]),_:1})]),default:e(()=>[t(re,{currentLocale:k(J)(),onChangeShowingStatus:$e},null,8,["currentLocale"])]),_:1})]),_:1})]),_:1})]),_:1})]),t(Ae,{width:i.value>=3?700:1e3,visible:_.value,footer:!1,style:{display:"flex"},unmountOnClose:"",onOpen:A,onCancel:y},{title:e(()=>[C("header",null,[i.value===1?(n(),I("div",Ct,s(a.$t("userInfo.title.subscribedModels")),1)):i.value===2?(n(),I("div",Mt,s(a.$t("userInfo.title.subscribedDatasets")),1)):i.value===3?(n(),I("div",Tt,s(a.$t("userInfo.title.adversarialRecords")),1)):(n(),I("div",zt,s(a.$t("userInfo.title.receivedMessages")),1))])]),default:e(()=>[i.value===4?(n(),r(re,{key:0,"current-locale":k(J)(),size:"big"},null,8,["current-locale"])):i.value===3?(n(),r(W,{key:1,class:"drawer-space",direction:"vertical",fill:""},{default:e(()=>[t(F,{justify:"center",align:"center",style:{"margin-left":"1vw"}},{default:e(()=>[t(V,{span:20},{default:e(()=>[t(le,{"label-align":"left"},{default:e(()=>[t(F,{gutter:16},{default:e(()=>[t(V,{span:12,flex:"auto"},{default:e(()=>[t(j,{"label-col-props":{span:6},"wrapper-col-props":{span:18},field:"modelA",label:a.$t("userInfo.adversarial.records.modelA")},{default:e(()=>[t(ne,{modelValue:T.value,"onUpdate:modelValue":m[1]||(m[1]=u=>T.value=u),placeholder:a.$t("userInfo.adversarial.records.modelA.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(V,{span:12},{default:e(()=>[t(j,{"label-col-props":{span:6},"wrapper-col-props":{span:18},field:"modelB",label:a.$t("userInfo.adversarial.records.modelB")},{default:e(()=>[t(ne,{modelValue:g.value,"onUpdate:modelValue":m[2]||(m[2]=u=>g.value=u),placeholder:a.$t("userInfo.adversarial.records.modelB.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),t(F,{gutter:16},{default:e(()=>[t(V,{span:24},{default:e(()=>[t(j,{"label-col-props":{span:3},"wrapper-col-props":{span:21},field:"contentSizeLowerBound",label:a.$t("searchDataset.form.contentSize"),style:{"margin-bottom":"0"}},{default:e(()=>[t(Ce,{modelValue:w.value,"onUpdate:modelValue":m[3]||(m[3]=u=>w.value=u),placeholder:[a.$t("userInfo.adversarial.records.testTime.placeholder1"),a.$t("userInfo.adversarial.records.testTime.placeholder2")],style:{width:"100%"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{span:4,style:{display:"flex","flex-direction":"column"}},{default:e(()=>[t(Q,{style:{margin:"auto auto 1vh auto"},type:"primary",onClick:ge},{icon:e(()=>[t(Me)]),default:e(()=>[c(" "+s(a.$t("userInfo.adversarial.records.search.btn")),1)]),_:1}),t(Q,{style:{margin:"1vh auto auto auto"},onClick:Ie},{icon:e(()=>[t(Te)]),default:e(()=>[c(" "+s(a.$t("userInfo.adversarial.records.reset.btn")),1)]),_:1})]),_:1})]),_:1}),t(Re,{bordered:!1},{default:e(()=>[(n(!0),I(q,null,x(l.value,(u,P)=>(n(),r(Le,{key:P},{actions:e(()=>[t(Q,{type:"outline",size:"mini",onClick:At=>we(u)},{icon:e(()=>[t(Be)]),default:e(()=>[c(" "+s(a.$t("userInfo.adversarial.records.details.btn")),1)]),_:2},1032,["onClick"])]),default:e(()=>[t(ze,{title:`${a.$t("userInfo.adversarial.models")}${u.model} & ${u.adversarialModel}`,description:u.battleTime,style:E({visibility:u.id!==void 0?"visible":"hidden"})},null,8,["title","description","style"])]),_:2},1024))),128))]),_:1})]),_:1})):(n(),r(W,{key:2,class:"drawer-space",direction:"vertical",fill:""},{default:e(()=>[t(Ve,{modelValue:M.value,"onUpdate:modelValue":m[4]||(m[4]=u=>M.value=u),style:{width:"45vw",alignItems:"center"},placeholder:i.value===1?a.$t("userInfo.subscription.llm.input.placeholder"):a.$t("userInfo.subscription.dataset.input.placeholder"),onSearch:te,onBlur:te},null,8,["modelValue","placeholder"]),t(F,{gutter:[24,24],style:{"margin-top":"3vh"}},{default:e(()=>[(n(!0),I(q,null,x(l.value,u=>(n(),r(V,{key:u.id,span:12,class:"list-col"},{default:e(()=>[C("div",Bt,[t(_t,{content:u,contentType:i.value===1?"llm":"dataset",ID:u.id,userID:parseInt(k(d).accountId,10)},null,8,["content","contentType","ID","userID"])])]),_:2},1024))),128))]),_:1})]),_:1})),i.value!==4?(n(),r(je,{key:3,style:{"justify-content":"center",margin:"auto auto 2vh auto"},total:D.value,current:o.value,"page-size":p.value,onChange:be,"show-jumper":""},null,8,["total","current","page-size"])):se("",!0)]),_:1},8,["width","visible"]),b.value!==void 0?(n(),r(xe,{key:0,visible:$.value,footer:!1,width:"40vw",onCancel:ke,"hide-title":!0},{default:e(()=>[C("div",Lt,[(n(!0),I(q,null,x(b.value.QA,(u,P)=>(n(),r(W,{direction:"vertical",key:P},{default:e(()=>[C("div",Rt,s(`Round ${P+1}`),1),t(le,{"label-col-props":{span:5},"wrapper-col-props":{span:19}},{default:e(()=>[t(j,{label:a.$t("userInfo.adversarial.records.details.question"),"label-attrs":{style:{color:"#1c61ff"}}},{default:e(()=>[c(s(u.question),1)]),_:2},1032,["label"]),t(j,{label:b.value.model,"label-attrs":{style:{color:"#1c61ff"}}},{default:e(()=>[c(s(u.answerA),1)]),_:2},1032,["label"]),t(j,{label:b.value.adversarialModel,"label-attrs":{style:{color:"#1c61ff"}}},{default:e(()=>[c(s(u.answerB),1)]),_:2},1032,["label"])]),_:2},1024)]),_:2},1024))),128)),t(qe,{orientation:"center"},{default:e(()=>[c(s(`${a.$t("userInfo.adversarial.records.details.result.prefix")} ${b.value.winner} ${a.$t("userInfo.adversarial.records.details.result.suffix")}`),1)]),_:1})])]),_:1},8,["visible"])):se("",!0)])}}});const ia=H(jt,[["__scopeId","data-v-176159de"]]);export{ia as default};
