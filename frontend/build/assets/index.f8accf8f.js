import{v as Te,g as z,c as xe,Y as $e,Z as Se,$ as Qe,a0 as Ie,_ as Ve}from"./index.d740cb91.js";/* empty css              *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css                */import{d as Me,r as v,bW as Re,c as $,j as Ne,w as Oe,a$ as Ue,C,D as L,aI as u,aH as e,G as l,aN as i,aM as f,aK as X,aJ as ee,aE as G,aF as ze,n as ue,ba as Le,bV as Ge,bZ as He,a0 as Pe,aY as je,bj as Ye,bk as Ze,b5 as Je,a6 as Ke,aR as We,c3 as Xe,b6 as eu,bb as uu,be as tu,bf as lu,g as au}from"./arco.a9e9ea8e.js";import{q as ou,E as nu,Q as te,g as _}from"./evaluate.a23513de.js";import"./chart.095b9a7e.js";import"./vue.6f0b04ed.js";const E=q=>(tu("data-v-de85e9de"),q=q(),lu(),q),su={class:"container"},iu={class:"custom-title"},du={class:"boxTest"},vu={class:"contentTest"},ru={class:"boxTest"},cu={class:"contentTest"},pu={class:"boxTest"},fu={class:"contentTest"},mu={class:"boxTest"},_u={class:"contentTest"},Fu=E(()=>l("br",null,null,-1)),bu={id:"selectModel"},Bu={class:"text-box"},Eu={class:"box-header"},hu=E(()=>l("span",{style:{"font-size":"13px"}},"Model A",-1)),yu={class:"userQuestion"},Cu={class:"modelResponse"},gu={style:{"font-weight":"bold","padding-top":"7px"}},Au={class:"text-box"},wu={class:"box-header"},Du=E(()=>l("span",{style:{"font-size":"13px"}},"Model B",-1)),qu={class:"userQuestion"},ku={class:"modelResponse"},Tu={style:{"font-weight":"bold","padding-top":"7px"}},xu=E(()=>l("span",{class:"iconfont icon-hand-left1"},null,-1)),$u=E(()=>l("span",{class:"iconfont icon-hand-right1"},null,-1)),Su=E(()=>l("span",{class:"iconfont icon-Outline_fuben11"},null,-1)),Qu=E(()=>l("span",{class:"iconfont icon-Outline_fuben24"},null,-1)),Iu={style:{color:"dodgerblue"}},Vu=Me({__name:"index",async setup(q){let k,H;const n=v((()=>({id:"",questionType:"",question:"",advise:""}))()),P=v(""),{t:s}=Te.exports.useI18n(),T=v(!1),S=v(!1),Q=v(!1),m=v(!1),c=v(!0),x=v(!0),I=v(!1),V=v(!1),h=v(""),y=v(""),M=v(!0),F=v(!0),g=v(!1),{proxy:j}=au(),Y=v();Y.value=([k,H]=Re(()=>ou()),k=await k,H(),k).data;const le=$(()=>(Y.value||[]).map(t=>({label:t.name,value:t.id})));$(()=>n.value.id);const a=Ne(new nu(-1)),A=v(""),w=v(),D=v();Oe(()=>n.value.questionType,(t,o)=>{A.value=""});const ae=[{required:!1,validator:(t,o)=>new Promise(R=>{window.setTimeout(()=>{t=n.value.advise,g.value=!1,t.length>100&&(g.value=!0,o(j.$t("evaluation.advice.error.default"))),R()},1)}),trigger:["input"]}],oe=$(()=>[{label:s("evaluation.question.fill.typeone"),value:"\u673A\u5668\u7FFB\u8BD1"},{label:s("evaluation.question.fill.typetwo"),value:"\u6570\u5B66\u8FD0\u7B97"},{label:s("evaluation.question.fill.typethree"),value:"\u6587\u672C\u751F\u6210"},{label:s("evaluation.question.fill.typefour"),value:"\u63A8\u7406\u548C\u903B\u8F91"},{label:s("evaluation.question.fill.typefive"),value:"\u8BED\u6CD5\u548C\u8BED\u4E49\u7406\u89E3"}]),ne=$(()=>n.value.questionType==="\u673A\u5668\u7FFB\u8BD1"?[{label:s("evaluation.evaluate.fill.typeone.q1"),value:"\u8BF7\u5C06\u201C\u5927\u5BB6\u65E9\u4E0A\u597D\u201D\u7FFB\u8BD1\u6210\u65E5\u8BED"},{label:s("evaluation.evaluate.fill.typeone.q2"),value:"\u8BF7\u5C06\u4E0B\u9762\u8FD9\u53E5\u8BDD\u7FFB\u8BD1\u6210\u4E2D\u6587: I have never had such a fantastic start"},{label:s("evaluation.evaluate.fill.typeone.q3"),value:"\u8BF7\u95EE\u201C\u4ECA\u5929\u4E2D\u5348\u4F60\u5403\u4E86\u4EC0\u4E48\u201D\u7528\u82F1\u8BED\u600E\u4E48\u8BF4"},{label:s("evaluation.evaluate.fill.typeone.q4"),value:'Please translate "\u8FD9\u672C\u4E66\u662F\u7531\u4E00\u4F4D\u8457\u540D\u7684\u4F5C\u5BB6\u5199\u7684" into English'},{label:s("evaluation.evaluate.fill.typeone.q5"),value:"\u8BF7\u5C06\u201CThis is a well-known restaurant located in Shanghai\u201D\u7FFB\u8BD1\u6210\u65E5\u8BED"}]:n.value.questionType==="\u6570\u5B66\u8FD0\u7B97"?[{label:s("evaluation.evaluate.fill.typetwo.q1"),value:"114+514\u7B49\u4E8E\u591A\u5C11"},{label:s("evaluation.evaluate.fill.typetwo.q2"),value:"sin(x)\u5173\u4E8Ex\u7684\u5BFC\u6570\u662F\u591A\u5C11"},{label:s("evaluation.evaluate.fill.typetwo.q3"),value:"36\u9664\u4EE57\uFF0C\u4F59\u6570\u662F\u591A\u5C11"},{label:s("evaluation.evaluate.fill.typetwo.q4"),value:'\u8BA1\u7B97\u4E0B\u9762\u7684\u5F0F\u5B50\uFF1A"2 * (3 + 5) / 4"'},{label:s("evaluation.evaluate.fill.typetwo.q5"),value:"\u5DF2\u77E52x+4=10\uFF0Cx\u7684\u503C\u662F\u591A\u5C11"}]:n.value.questionType==="\u6587\u672C\u751F\u6210"?[{label:s("evaluation.evaluate.fill.typethree.q1"),value:"\u7B80\u8FF0\u4E00\u4E0B\u7535\u5F71\u300A\u6218\u72FCII\u300B\u7684\u60C5\u8282"},{label:s("evaluation.evaluate.fill.typethree.q2"),value:"\u8BB2\u4E00\u4E2A\u51B7\u7B11\u8BDD"},{label:s("evaluation.evaluate.fill.typethree.q3"),value:"\u8BF7\u5199\u4E00\u9996\u5173\u4E8E\u81EA\u7531\u7684\u8BD7\u6B4C"},{label:s("evaluation.evaluate.fill.typethree.q4"),value:"\u6211\u8BA1\u5212\u53BB\u5F97\u514B\u8428\u65AF\u5DDE\u65C5\u884C\uFF0C\u8BF7\u7ED9\u6211\u4E00\u4EFD\u65C5\u884C\u6307\u5357"},{label:s("evaluation.evaluate.fill.typethree.q5"),value:"\u6211\u6700\u8FD1\u60F3\u5F00\u59CB\u5065\u8EAB\uFF0C\u8BF7\u7ED9\u6211\u4E00\u4E9B\u5173\u4E8E\u996E\u98DF\u4E0A\u7684\u5EFA\u8BAE"},{label:s("evaluation.evaluate.fill.typethree.q6"),value:"\u8BC4\u4EF7\u4E00\u4E0B\u300A\u539F\u795E\u300B\u8FD9\u6B3E\u6E38\u620F"}]:n.value.questionType==="\u63A8\u7406\u548C\u903B\u8F91"?[{label:s("evaluation.evaluate.fill.typefour.q1"),value:"\u5982\u679C\u4ECA\u5929\u662F\u661F\u671F\u4E94\uFF0C\u660E\u5929\u662F\u54EA\u4E00\u5929\uFF1F"},{label:s("evaluation.evaluate.fill.typefour.q2"),value:"\u5047\u8BBEA\u662FB\u7684\u5144\u5F1F\uFF0C\u800CB\u662FC\u7684\u5144\u5F1F\uFF0C\u662F\u5426\u53EF\u4EE5\u5F97\u51FAA\u662FC\u7684\u5144\u5F1F\u7684\u7ED3\u8BBA\uFF1F"},{label:s("evaluation.evaluate.fill.typefour.q3"),value:"\u5982\u679C\u6240\u6709\u4EBA\u90FD\u4F1A\u6B7B\u4EA1\uFF0C\u90A3\u4E48\u5C0F\u660E\u662F\u5426\u4F1A\u6B7B\uFF1F"},{label:s("evaluation.evaluate.fill.typefour.q4"),value:"\u6C64\u59C6\u6709\u4E00\u53EA\u559C\u6B22\u9AA8\u5934\u7684\u5BA0\u7269\uFF0C\u90A3\u4E48\u4ED6\u7684\u5BA0\u7269\u53EF\u80FD\u662F\u72D7\u5417\uFF1F"},{label:s("evaluation.evaluate.fill.typefour.q5"),value:"\u5C0F\u521A\u7684\u7236\u6BCD\u90FD\u662FAB\u578B\u8840\uFF0C\u5C0F\u521A\u53EF\u80FD\u662FO\u578B\u8840\u5417"}]:n.value.questionType==="\u8BED\u6CD5\u548C\u8BED\u4E49\u7406\u89E3"?[{label:s("evaluation.evaluate.fill.typefive.q1"),value:'\u627E\u51FA\u4E0B\u5217\u53E5\u5B50\u4E2D\u7684\u8BED\u6CD5\u9519\u8BEF\uFF1A"Every one of the students are here"'},{label:s("evaluation.evaluate.fill.typefive.q2"),value:"\u627E\u51FA\u4E0B\u5217\u53E5\u5B50\u4E2D\u7684\u8BED\u4E49\u9519\u8BEF\uFF1A\u81EA\u884C\u8F66\u65E9\u4E0A\u559C\u6B22\u9A91\u5C0F\u660E"},{label:s("evaluation.evaluate.fill.typefive.q3"),value:`\u68C0\u67E5\u4E0B\u5217\u53E5\u5B50\u662F\u5426\u6709\u8BED\u6CD5\u9519\u8BEF\uFF1A"He don't like apples."`}]:[]),Z=()=>{w.value.scrollTop=w.value.scrollHeight,D.value.scrollTop=D.value.scrollHeight},se=async()=>{a.modelA=Number(n.value.id),a.QA=[],await a.getModelB(),c.value=!1},ie=()=>{T.value=!0,g.value=!1},de=()=>{S.value=!0},J=async()=>{c.value!==!0&&(!n.value.question||n.value.question.trim()===""?window.alert(j.$t("evaluation.question.button.emptyMsg")):(c.value=!0,a.QA.push(new te(n.value.question,"...","...")),await ue(()=>{Z()}),await a.getStreamResponse(z(),w.value,D.value,c),Q.value=!0,I.value=!0,P.value=n.value.question,n.value.question=""),V.value=!0,M.value=!1,F.value=!1,x.value=!1,m.value=!1)},ve=async()=>{await a.sendAdvise(z(),n.value.advise),n.value.advise="",x.value=!0},re=()=>{T.value=!1,n.value.advise=""},ce=()=>{n.value.question=A.value,n.value.questionType="",A.value=""},pe=()=>{n.value.question="",n.value.questionType=""},fe=async()=>{if(a.modelA){a.result=1;let t=await _(a.modelA.toString());h.value=t,t=await _(a.modelB.toString()),y.value=t,c.value=!0,F.value=!0,m.value=!0;const o=document.getElementById("aBetter");o&&(o.style.backgroundColor="rgb(45, 92, 246)",o.style.color="white"),await a.updateEloResult()}},me=async()=>{if(a.modelA){a.result=-1;let t=await _(a.modelA.toString());h.value=t,t=await _(a.modelB.toString()),y.value=t,c.value=!0,F.value=!0,m.value=!0;const o=document.getElementById("bBetter");o&&(o.style.backgroundColor="rgb(45, 92, 246)",o.style.color="white"),await a.updateEloResult()}},_e=async()=>{if(a.modelA){a.result=0;let t=await _(a.modelA.toString());h.value=t,t=await _(a.modelB.toString()),y.value=t,c.value=!0,F.value=!0,m.value=!0;const o=document.getElementById("abGood");o&&(o.style.backgroundColor="rgb(45, 92, 246)",o.style.color="white"),await a.updateEloResult()}},Fe=async()=>{if(a.modelA){a.result=0;let t=await _(a.modelA.toString());h.value=t,t=await _(a.modelB.toString()),y.value=t,c.value=!0,F.value=!0,m.value=!0;const o=document.getElementById("abBad");o&&(o.style.backgroundColor="rgb(45, 92, 246)",o.style.color="white"),await a.updateEloResult()}},be=async()=>{a.QA=[],a.modelA=-1,a.modelB=-1,h.value="",y.value="",n.value.id="",c.value=!0,x.value=!0,g.value=!0,M.value=!0,F.value=!0,V.value=!1,Q.value=!1,I.value=!1},Be=async()=>{a.QA.pop(),a.QA.push(new te(P.value,"...","...")),await ue(()=>{Z()}),c.value=!0,await a.getStreamResponse(z(),w.value,D.value,c)};return(t,o)=>{const R=Ue("Breadcrumb"),b=Le,N=Ge,O=He,Ee=Pe,p=je,K=xe,r=Ye,B=Ze,he=Je,ye=Ke,Ce=$e,ge=Se,Ae=Qe,we=Ie,W=We,De=Xe,qe=eu,ke=uu;return C(),L("div",su,[u(R,{items:["menu.evaluate","menu.evaluate.adversarialEvaluation"]},null,8,["items"]),u(B,{gutter:20,align:"stretch"},{default:e(()=>[u(r,{span:24},{default:e(()=>[u(N,{class:"general-card"},{title:e(()=>[l("div",iu,[l("b",null,i(t.$t("evaluation.rules.title")),1)])]),default:e(()=>[u(b,{direction:"vertical",size:"large"},{default:e(()=>[l("div",du,[l("div",vu,[l("h3",null,i(t.$t("evaluation.rules.one")),1)])]),l("div",ru,[l("div",cu,[l("h3",null,i(t.$t("evaluation.rules.two")),1)])]),l("div",pu,[l("div",fu,[l("h3",null,i(t.$t("evaluation.rules.three")),1)])]),l("div",mu,[l("div",_u,[l("h3",null,i(t.$t("evaluation.rules.four")),1)])])]),_:1})]),_:1}),Fu,u(N,{class:"resultShow"},{default:e(()=>[l("div",bu,[u(O,{modelValue:n.value.id,"onUpdate:modelValue":o[0]||(o[0]=d=>n.value.id=d),options:le.value,placeholder:t.$t("evaluation.select.models"),disabled:I.value},null,8,["modelValue","options","placeholder","disabled"]),u(p,{type:"primary",style:{"margin-right":"20px"},onClick:se,disabled:V.value},{icon:e(()=>[u(Ee)]),default:e(()=>[f(" "+i(t.$t("evaluation.select.models.confirm")),1)]),_:1},8,["disabled"])]),u(B,{gutter:16},{default:e(()=>[u(r,{span:12},{default:e(()=>[l("div",Bu,[u(b,{direction:"vertical",size:10,class:"QAShower"},{default:e(()=>[l("div",Eu,[u(b,null,{default:e(()=>[u(K),hu]),_:1})]),l("div",{class:"QA",ref_key:"QAModelA",ref:w},[(C(!0),L(X,null,ee(a.QA,(d,U)=>(C(),G(b,{direction:"vertical",size:15,key:U,class:"added-div"},{default:e(()=>[l("div",yu,i(d.question),1),l("div",Cu,i(d.answerA),1)]),_:2},1024))),128))],512)]),_:1})]),l("div",gu,i(h.value),1)]),_:1}),u(r,{span:12},{default:e(()=>[l("div",Au,[u(b,{direction:"vertical",size:10,class:"QAShower"},{default:e(()=>[l("div",wu,[u(b,null,{default:e(()=>[u(K),Du]),_:1})]),l("div",{class:"QA",ref_key:"QAModelB",ref:D},[(C(!0),L(X,null,ee(a.QA,(d,U)=>(C(),G(b,{direction:"vertical",size:15,key:U,class:"added-div"},{default:e(()=>[l("div",qu,i(d.question),1),l("div",ku,i(d.answerB),1)]),_:2},1024))),128))],512)]),_:1})]),l("div",Tu,i(y.value),1)]),_:1})]),_:1})]),_:1}),u(N,{class:"questionInput"},{default:e(()=>[Q.value?(C(),G(B,{key:0,gutter:16,style:{"padding-bottom":"20px"}},{default:e(()=>[u(r,{span:6},{default:e(()=>[u(p,{id:"aBetter",onClick:fe,style:{"margin-right":"20px",width:"100%"},disabled:m.value},{icon:e(()=>[xu]),default:e(()=>[f(" "+i(t.$t("evaluation.evaluate.modelA")),1)]),_:1},8,["disabled"])]),_:1}),u(r,{span:6},{default:e(()=>[u(p,{id:"bBetter",onClick:me,style:{"margin-right":"20px",width:"100%"},disabled:m.value},{icon:e(()=>[$u]),default:e(()=>[f(" "+i(t.$t("evaluation.evaluate.modelB")),1)]),_:1},8,["disabled"])]),_:1}),u(r,{span:6},{default:e(()=>[u(p,{id:"abGood",onClick:_e,style:{"margin-right":"20px",width:"100%"},disabled:m.value},{icon:e(()=>[Su]),default:e(()=>[f(" "+i(t.$t("evaluation.evaluate.both")),1)]),_:1},8,["disabled"])]),_:1}),u(r,{span:6},{default:e(()=>[u(p,{id:"abBad",onClick:Fe,style:{"margin-right":"20px",width:"100%"},disabled:m.value},{icon:e(()=>[Qu]),default:e(()=>[f(" "+i(t.$t("evaluation.evaluate.neither")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})):ze("",!0),u(B,{gutter:16,style:{"padding-bottom":"20px"}},{default:e(()=>[u(r,{span:20},{default:e(()=>[u(he,{modelValue:n.value.question,"onUpdate:modelValue":o[1]||(o[1]=d=>n.value.question=d),placeholder:t.$t("evaluation.question.input"),"allow-clear":"",onPressEnter:J},null,8,["modelValue","placeholder"])]),_:1}),u(r,{span:4},{default:e(()=>[u(p,{style:{"margin-right":"24px"},onClick:de},{icon:e(()=>[u(ye)]),default:e(()=>[f(" "+i(t.$t("evaluation.question.button.fill")),1)]),_:1}),u(p,{type:"primary",onClick:J,disabled:c.value},{icon:e(()=>[u(Ce)]),default:e(()=>[f(" "+i(t.$t("evaluation.question.button.send")),1)]),_:1},8,["disabled"])]),_:1})]),_:1}),u(B,{gutter:16},{default:e(()=>[u(r,{span:8},{default:e(()=>[u(p,{style:{"margin-right":"20px",width:"100%"},disabled:M.value,onClick:be},{icon:e(()=>[u(ge)]),default:e(()=>[f(" "+i(t.$t("evaluation.result.button.newround")),1)]),_:1},8,["disabled"])]),_:1}),u(r,{span:8},{default:e(()=>[u(p,{style:{"margin-right":"20px",width:"100%"},disabled:F.value,onClick:Be},{icon:e(()=>[u(Ae)]),default:e(()=>[f(" "+i(t.$t("evaluation.result.button.regenerate")),1)]),_:1},8,["disabled"])]),_:1}),u(r,{span:8},{default:e(()=>[u(p,{class:"aaa",style:{"margin-right":"20px",width:"100%"},disabled:x.value,onClick:ie},{icon:e(()=>[u(we)]),default:e(()=>[f(" "+i(t.$t("evaluation.result.button.advise")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),l("template",null,[u(W,{class:"selectModal",visible:S.value,"onUpdate:visible":o[4]||(o[4]=d=>S.value=d),"ok-text":t.$t("evaluation.question.select.button.confirm"),onOk:ce,"cancel-text":t.$t("evaluation.question.select.button.quit"),onCancel:pe,closable:!1,"modal-style":{width:"700px"}},{default:e(()=>[u(B,{gutter:16},{default:e(()=>[u(r,{span:8},{default:e(()=>[u(O,{modelValue:n.value.questionType,"onUpdate:modelValue":o[2]||(o[2]=d=>n.value.questionType=d),placeholder:t.$t("evaluation.question.select.type.default"),options:oe.value},null,8,["modelValue","placeholder","options"])]),_:1}),u(r,{span:16},{default:e(()=>[u(O,{modelValue:A.value,"onUpdate:modelValue":o[3]||(o[3]=d=>A.value=d),placeholder:t.$t("evaluation.question.select.content.default"),options:ne.value},null,8,["modelValue","placeholder","options"])]),_:1})]),_:1})]),_:1},8,["visible","ok-text","cancel-text"])]),l("template",null,[u(W,{class:"adviseModal",visible:T.value,"onUpdate:visible":o[6]||(o[6]=d=>T.value=d),"modal-style":{width:"500px",height:"400px"},"ok-text":t.$t("evaluation.advise.button.submit"),onOk:ve,"cancel-text":t.$t("evaluation.advise.button.cancel"),onCancel:re,"ok-button-props":{disabled:g.value}},{title:e(()=>[l("span",Iu,i(t.$t("evaluation.advise.title")),1)]),default:e(()=>[u(B,{gutter:-8},{default:e(()=>[u(ke,{model:n.value,"label-align":"right"},{default:e(()=>[u(qe,{field:"advise",label:t.$t("evaluation.advise.subtitle"),rules:ae,"label-col-props":{span:5},"wrapper-col-props":{span:19}},{default:e(()=>[u(De,{class:"adviseInput",modelValue:n.value.advise,"onUpdate:modelValue":o[5]||(o[5]=d=>n.value.advise=d),"display:center":"",placeholder:t.$t("evaluation.advise.default"),"allow-clear":"",style:{height:"220px"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["visible","ok-text","cancel-text","ok-button-props"])])]),_:1})])}}});const Ju=Ve(Vu,[["__scopeId","data-v-de85e9de"]]);export{Ju as default};
