import{d as i,e as d}from"./index.35e9d874.js";async function l(){const a={data:[],total:0};await i.get(d("/dataset/list")).then(t=>{t.data.data.length});let s=await i.get(d("/testing/list"));const r=await i.get(d("/ranking/average_list"));a.total=s.data.data.length;for(let t=0;t<s.data.data.length;t+=1){const e=s.data.data[t];a.data.push({id:e.id,name:e.name,ranking:0,datasetScore:r.data.data[e.id-1].toFixed(2),eloScore:e.elo_credit.toFixed(2),license:""})}a.data.sort((t,e)=>e.datasetScore-t.datasetScore);for(let t=0;t<a.data.length;t+=1)a.data[t].ranking=t+1;s=await i.get(d("/ranking/list"));for(let t=0;t<s.data.data.length;t+=1){const e=s.data.data[t];for(let n=0;n<a.data.length;n+=1)if(a.data[n].id===e.LLM){e.credit!==null?a.data[n][e.dataset]=e.credit.toFixed(2):a.data[n][e.dataset]=e.credit;break}}return a}async function u(a){const s={data:[],total:0},r=Number(a);let t=await i.get(d("/dataset/list"));for(let e=0;e<t.data.data.length;e+=1){const n=t.data.data[e],o=n.subjective?"\u4E3B\u89C2\u9898":"\u5BA2\u89C2\u9898";s.data.push({id:n.id,name:n.name,contentSize:n.content_size,contentType:o,createdTime:n.add_time,score:r})}t=await i.get(d("/ranking/list"));for(let e=0;e<t.data.data.length;e+=1){const n=t.data.data[e];n.LLM===r&&(s.data[n.dataset-1].score=n.credit)}return s}async function g(){const a=[],s=await i.get(d("/dataset/list"));for(let r=0;r<s.data.data.length;r+=1){const t=s.data.data[r];a.push({title:t.name,dataIndex:t.id.toString(),slotName:t.id.toString(),align:"center",sortable:{sortDirections:["ascend","descend"]}})}return a}async function m(a){return(await i.get(d(`/testing/retrieve/${a}`))).data}async function L(a){return(await i.post(d("/testing/battle_history"),{llm:a})).data}async function f(a){return i.post(d("/user/subscribe_llm"),{llmId:a})}async function p(a,s){return(await i.get(d(`/user/list_llm_subscription/${a}`))).data.llms.some(t=>t.id===s)}export{m as G,L as a,g as b,l as c,p as i,u as q,f as s};
