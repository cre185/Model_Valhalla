t## 标准  
本部分主要说明关于数据集以及模型api的标准（公约）。  
**目录**  
- [数据集](#数据集)
  - [客观题数据集](#客观题数据集)
  - [主观题数据集](#主观题数据集)
- [语言模型](#语言模型)
### 数据集  
数据集大致可以分为两类：客观题数据集以及主观题数据集。  
数据集均采用.csv格式，内容以表格的形式储存，以逗号分隔同一行中的不同列。  
数据集的第一行规定了列名称，第二行开始为数据，每行的列数应保持一致。  
特例是当一个数据本身包含换行符时，包含换行的部分需要用双引号包含起来，并在数据末尾结束时再进行一次换行以作为数据结束标志。  
示例：    
```csv  
Prompt,subject,example,GPT3.5,GPT4
请给以下公司分类：Apple、Facebook、Fedex,`分类`,,"Apple: 科技公司
Facebook: 社交媒体公司
Fedex: 物流和快递公司","以下是针对您提供的三家公司进行的分类：
Apple：苹果公司是一家美国跨国科技公司，主要从事设计、开发和销售消费电子产品、计算机软件和在线服务。苹果的主要产品包括iPhone智能手机、iPad平板电脑、Mac个人电脑、iPod音乐播放器、Apple Watch智能手表、Apple TV等。苹果还经营着苹果商店和iCloud等在线服务。因此，我们可以将Apple归类为消费电子、技术和软件公司。
Facebook：Facebook是一家美国社交媒体和技术公司，主要以其同名社交网络平台闻名。该公司还拥有其他社交媒体和通讯平台，如Instagram、WhatsApp和Messenger。此外，Facebook还从事虚拟现实硬件和软件的开发，例如Oculus Rift头戴式显示器。因此，我们可以将Facebook归类为社交媒体、技术和软件公司。
FedEx：FedEx（联邦快递）是一家美国跨国快递服务公司，为全球范围内的客户提供快递、货运、物流和电子商务解决方案。FedEx的业务涵盖了包裹和文件的国内和国际运输、供应链管理、电子商务解决方案等。因此，我们可以将FedEx归类为物流、快递和运输公司。"
```
更多参考文件可以查看网络学堂上的数据集压缩包。  
#### 客观题数据集  
我们需要客观题数据集具有以下列以及对应的值（不区分大小写）：  
* question：字符串类型，包含具体的问题，由于AI可以理解文本内容，只要表述出选择题的含义并提示模型进行选择即可。  
* A/B/C/D or choices: 前者为四个字符串，后者为一个列表，格式为`"[ ""A"", ""B"", ""C"", ""D"" ]"`，其中的内容替换为对应的选项。  
* answer：字符串类型，包含正确答案，特别地仅包含字符A/B/C/D中的一个即可。  

此外还有一些其他的列会被解析：  
* subject：字符串类型，包含题目所属的方向，如果为题目指定了该字段，则测试过程还会分析模型在各个方向的题目上的表现，并给出相应的结果。  

特别注意，如果字符串中包含英文逗号','，需要用双引号""将其包裹起来，否则会被解析为两个不同的列。  
示例：  
```csv
Question,A,B,C,D,Answer
设 A，B 为n阶矩阵， 则 $|-2(\begin{array}{cc}A^T & O \\ O & B^{-1}\end{array})|$ 等于(),$-2|A^T||B|$,$(-2)^{2n}|A||B|^{-1}$,$(-2)^n|A||B|^{-1}$,$-2|A||B|^{-1}$,B
设函数 $f(x)=\frac{1}{e^{\frac{x}{x-1}}-1}$， 则 ( ),$x=0， x=1$ 都是 $f(x)$ 的第一类间断点;,$x=0$ 是 $f(x)$ 的第一类间断点， $x=1$ 是 $f(x)$ 的第二类间断点;,$x=0， x=1$ 都是 $f(x)$ 的第二类间断点;,$x=0$ 是 $f(x)$ 的第二类间断点， $x=1$ 是 $f(x)$ 的第一类间断点,D
```
该示例包含两个实际的测试数据，第一个问题的答案为B，第二个问题的答案为D。  
#### 主观题数据集  
主观数据集需要具有以下列以及对应的值（不区分大小写）：  
* prompt：字符串类型，包含需要AI进行响应的文本。  

此外还有一些其他的列会被解析：  
* subject：字符串类型，包含题目所属的方向，如果为题目指定了该字段，则测试过程还会分析模型在各个方向的题目上的表现，并给出相应的结果。  
* example：字符串类型，包含一个样例，可能作为用户进行评测时的参考样例呈现。  
### 语言模型   
本项目支持的模型开放的接口需要满足RESTful API的标准，详细信息可以参考：  
* [FastChat OpenAI-Compatible RESTful APIs 文档](https://github.com/lm-sys/FastChat/blob/main/docs/openai_api.md)  
* [openai API reference 官方文档](https://platform.openai.com/docs/api-reference/chat)  

在上传语言模型时，需要提供以下内容：  
* api_url：一个url，为模型的生成内容调用接口    
* model_name：一个字符串，用于标识调用接口时使用的模型的名称  
* api_RPM：可选，一个整数，表示模型每分钟可以被请求进行生成的次数，不指定时默认无限制  

作为示例，下面给出chatgpt3.5的api接口在上述字段中的对应值：  
```python
api_url = 'http://111.202.73.146:10510/v1/chat/completions'  
model_name = 'mistral_7b'  
api_RPM = 3 
```
