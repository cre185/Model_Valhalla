# 模型竞技场 ModelValhalla 交付文档

> 姚润茂 方钧同 李科霖 钟健坤

[TOC]

## 交付产品

### 产品访问方式



### 仓库链接

Github仓库：https://github.com/cre185/Model_Valhalla

## 产品目标
为大模型提供一个开放、公平、可靠的评测机会，为人们直观展示模型水平与排行，从而进一步促进模型的发展和创新
### 功能目标
#### 1. 用户身份验证
   
   用户在登录以及注册页面可以完成用户注册、用户登录两项操作，在个人中心可以完成查看个人信息、修改个人信息、修改安全信息三项操作。管理员可以执行管理员注册、管理员登录两项操作。
   
   1.1 用户注册
   
   用户点击注册按钮，需要先填写手机号和密码，之后点击“获取验证码”，输入手机上收到的验证码，验证码每1分钟可以发送一次。完成验证后勾选左下角的“已阅读并同意《服务协议》和《隐私政策》”，点击“注册”按钮，系统会提示注册成功，并返回到登录页面。考虑到对用户数据和隐私的保护，系统会建议用户使用强密码，并且要求用户填写电子邮箱地址以找回密码。

   1.2 用户登录
   
   登录应考虑多因素身份验证，提供多种登录方式。用户可以选择输入手机号与密码验证身份，也可以通过进行手机验证码验证，两种测试方式可以通过点击窗口上的相应选项进行切换。无论采取哪种方式，填写表单项后用户点击“登录”，如果信息正确将进入到测试主页。
   
   1.3 查看个人信息
   
   用户注册后信息可以随时查看自己的信息，点击“个人中心”会弹出下拉框，点击“个人信息”将跳转到个人信息页，该页面将展示用户名、用户类型等基本信息。此外，还可以看到用户关注的模型、数据集以及用户的测试记录。用户通过点击个人页面的部分选项也能直接跳转至相关页面，如页面默认展示部分测试记录，用户可以点击“查看更多”选项跳转至测试记录页面查看完整记录。

   1.4 修改个人信息
   
   在“用户设置”页面，用户能看到除部分安全信息外的所有各项信息，并可以直接修改。初始部分信息可能不存在，用户可以在各信息标签处通过点击或输入等方式添加或修改头像、用户名，也可以在下方的“基础信息”选项修改国家、个人简介等信息，修改完成后点击保存即可。

   1.5 修改安全信息
   
   用户选择“安全设置”选项会展示修改安全信息界面，其中展示用户的私密信息如绑定手机号、绑定邮箱等，手机号中部分会以“*”遮挡，保护用户隐私。在该页面修改私密信息如密码时，将需要输入原本密码以验证身份，或是点击“忘记密码”按钮跳转至验证码重置密码界面，正确输入验证码后方可设置新密码。以下为管理员可以额外执行的操作。
   
   1.6 管理员注册
   
   除了普通用户外，还要有少量的管理员用户。在登录页面点击“我是管理员”进入管理员登录界面，点击“注册账号”，除了填写基本信息外，还需要填写由开发人员提供的邀请码，信息正确后，点击“注册”，系统会弹出注册成功并返回管理员登录页面。

   1.7. 管理员登录
   
   管理员登录的过程类似用户登录的过程，首先选择使用账密登录或是手机验证码登录的方式，在页面上的表单中输入正确的管理员账号信息后，点击“登录”即可进入主页。平台会判断该账号为管理员账号，并在浏览过程中解锁管理员权限，能执行各种管理员操作。

#### 2. 数据集维护
   
   用户在数据集页面可以完成查看数据集列表、查看详细信息、数据集筛选和排序、数据集下载、数据集上传、数据集反馈、数据集举报七种操作。管理员可以执行数据集修改、数据集删除、反馈与举报处理三种操作。

   2.1 查看数据集列表

   用户可以在页面上直观地看到现有数据集的列表以及各数据集的基本信息，如数据集编号、名称、创建时间等。数据集列表支持按词条排序的功能，通过点击数据集列表上方的词条可以切换按该词条排序/逆序展示数据集列表，下方列表将随之更新。

   2.2 查看详细信息

   用户点击某一数据集的“查看”选项将会展开页面显示该数据集的更详细的信息，该详细信息分为若干栏，包含详细资料栏展示如发布方、应用领域等信息、测试表现栏展示该数据集在平台上进行测试的表现等。用户可以通过点击展开页面上方的标签切换显示内容。在预览界面还可以查看数据集的部分内容。

   2.3 数据集筛选与排序

   页面上方有针对数据集列表的筛选框，用户可以在筛选框中按不同条件筛选出想要的数据集，如按编号、名称等关键词条进行检索，或是选取创建时间区间等操作。选择完成后点击“检索”按钮，下方数据集列表也会随之更新。此外，用户还能根据创建时间、编号等对数据集排序。

   2.4 数据集下载

   用户可以通过点击“下载”按钮下载指定数据集，也可以通过勾选数据集并点击“批量下载”按钮下载多个数据集。

   2.5 数据集上传

   用户可以通过点击“上传”按钮展开上传数据集界面，填写基本信息如名称、应用领域、标签，上传格式正确的数据集文件后即可完成数据集上传。系统会通知管理员新数据集被上传，管理员审查数据集，存在例如信息不完整、数据集文件错误等情况的数据集会被删除。而合法的数据集将被存储在平台上，能够参与平台上的模型的能力测试并出现在排行榜上。

   2.6 数据集反馈

   用户点击某一数据集的“反馈”选项将会弹出数据集反馈界面，用户可以从反馈类型标签中点击并选择自己本次反馈的类型，如数据错误、存在更新版本等，并在下方的输入框中写下自己具体的想法，从而对该数据集提出自己的意见，也可以通过“上传文件”按钮附上相关文件。该反馈信息可以被管理员查看，并可以得到管理员的处理。

   2.7 数据集举报

   用户发现某一数据集出现异常或具有很严重的问题时，可以点击“反馈”选项之后选择上方的“举报”选择框进入举报界面，在该界面中选择举报理由以及详细描述，随后举报也将发送至管理员进行处理，且管理员应当优先进行举报的处理。
   
   **以下为管理员可以额外执行的操作。**

   2.8 数据集修改

   管理员可以针对数据集的属性进行修改，在管理员视角可以选择“修改”选项，之后进入修改页面，可以对数据集的大部分属性进行勘误，如纠正来自数据集提供者的错误等。

   2.9 数据集删除

   管理员发现不合格/错误的数据集后可以删除数据集，在管理员视角选择“删除”选项，会弹窗提示是否确认删除，防止管理员误操作错误删除数据集。如若确实需要删除，选择“确定”即可。

   2.10 反馈与举报处理

   管理员在个人中心或右上角的通知框可以查看到数据集的反馈与举报消息，点击后可以跳转到对应的数据集，之后根据用户的反馈或者举报的内容，可以选择是否对数据集进行修改或删除。

#### 3. 模型排行榜功能
   
   用户在模型排行榜界面可以完成查看模型排名、对抗评测记录查看、模型详细信息、数据集表现、排行榜下载五种操作。

   3.1 查看模型排名

   排行榜可以选择按多种标准对模型水平进行排名并按序显示，可以针对数据集综合得分以及对抗得分等进行排序。通过点击排行榜上方的相应词条即可选择按该词条顺序/逆序排列，点击后排行榜将实时更新。也可以搜索具体的模型查看其详细情况。
   
   3.2 模型详细信息
   
   用户可以点击某一模型的“查看”选项弹出模型详情界面展示详细信息，该详细信息页面类似数据集详细信息页面，同样分为若干栏，如详细资料栏展示发布方、应用领域等信息、测试表现栏展示该模型在平台上的测试表现等。用户可以通过点击展开页面上方的标签切换显示内容。

   3.3 对抗评测记录查看

   平台会记录对抗评测的结果并用于计算模型的Elo值，后者表示一个模型的相对水平，分值越高水平越高。Elo值也是可选的模型排序选项，用户在点击详情后面后，在对抗记录页面可以看到模型参与的对抗评测的信息以及胜负情况，点击其中的“+”按钮，则可以看到对抗评测的问题以及双方的回复。
   
   3.4 排行榜下载
   
   用户可以点击“下载”按钮对排行榜进行下载，下载可以将排行榜保存至用户本地，方便随时查看，并能应用已有的样式调整。表格能够以.csv的文件格式存储数据，从而能在Excel中打开。以下为管理员可以额外执行的操作。
   
   3.5 数据集表现
   
   点击模型详情后进入数据集表现页面可以看到模型在各数据集上的具体得分。此外，还可以通过数据集名称、数据集容量大小等多种要素对数据集筛选，以查看模型在某些特定数据集下的表现。
   
#### 4. 模型测试
   
   用户在模型测试界面可以完成对抗评测和主观评测、测试结果与反馈三种操作。

   4.1 对抗评测

   用户在测评时可以选择参与对抗评测，平台随后将会在界面上展示对抗评测界面。用户可以阅读界面上方的对抗评测说明与规则，在下方的对抗选择界面进行操作，如在输入框输入自己的问题或选择平台提供的问题，观察下方输出框中两个模型的结果，并通过点击对应按钮的方式做出判断。对抗评测进行时，平台将按照基于Elo值的匹配机制选择进行对抗的模型，并基于结果更新Elo值。对抗评测和下方自动评测均结束后将跳转至答案评估界面。

   4.2 主观评测

   用户可以进行主观评测，选择完模型与数据集后，平台通过与数据集提供的标准答案比对的方式进行判断正误，过程中平台将记录得分、正确率等相关信息，用于测试结束后的展示。主观评测和上方对抗评测均结束后将跳转至测试结果界面。

   4.3 测试结果与反馈

   用户在完成对抗评测后可以选择提供反馈，点击反馈后面后填写反馈意见，可以是评测机制的建议也可以是对平台提供问题的补充，提交后将会通知系统管理员，管理员会进行相应的维护与改进。

#### 5. 用户间交流
   
   用户可以在讨论区发表自己的意见，查看其他用户的讨论，并能收到他人对自己的点赞以及评论等消息。

   5.1 讨论区功能

   在数据集详情页面以及模型详情页面均有讨论区，用户在遵守社区守则的前提下可以对模型或者数据集进行讨论或者点评，并且也能和其他用户互动。

   5.2 站内信箱

   用户在讨论区的评论被他人评论或者点赞后，会接收到相应的消息，在个人中心或者页面右上角的通知按钮点击具体消息，会跳转到对应的讨论区。




### 性能需求

### 预期指标

## 开发组织管理

### 过程管理

### 人员分工

### 开发环境

### 配置管理

## 系统设计

### 前端交互

#### 界面设计原则

1. **一致性：** 前端界面的布局基本都采用上下结构，页面上部分是简单组件，页面中下部分是主要组件，界面元素的设计在整个应用程序中保持一致，这样更有助于用户理解和掌握我们网页的使用方式。
2. **可用性：** 我们的界面设计简单直观，基本都是简单直接的按钮操作，这样使得用户能够轻松、有效地完成任务。
3. **反馈性：** 在用户执行一些操作时，我们会通过界面的反馈及时告知用户操作的结果，例如“登录成功”、“登录过期”等全局提醒，这些反馈可以帮助用户了解其行为的后果。
4. **可导航性：** 我们在界面侧边提供清晰、一致的导航结构，使用户能够轻松找到所需的信息和功能，有助于用户快速了解网页的结构和布局。
5. **美观性：** 我们尽量使界面外观吸引人，如考虑一致美观的颜色搭配、字体选择、图标设计等，以创造愉悦的用户体验，并且我们没有位了一味追求美观而牺牲功能性。
6. **普适性**：网页支持中英文双语，可以服务使用不同语种的用户群体。

#### 用户交互流程

##### 主页

![1](/Users/yaorunmao/Desktop/1.png)

+ 页面最上方是标题栏，标题栏左侧是项目名称，标题栏右侧依次是**切换语言按钮**、**切换暗黑/明亮模式按钮**、**用户状态**。未登录状态下用户可以通过点击主页的**Get Started**或标题栏的**您好，请先登录**进行登录。

![1](/Users/yaorunmao/Desktop/7.png)

+ 用户登录后标题栏会额外出现一个**站内信按钮**。登录后点击主页的**Get Started**会跳转到排行榜页面。
+ 页面侧边是导航栏，从上到下依次是**主页**、**排行榜**、**数据集**、**评测（包括主观评测、对抗评测）**、**个人中心（包括用户信息、用户设置）**，用户可以点击对应的选项卡跳转到相应的页面。在导航栏的右下角有一个**最小化按钮**，点击即可缩小导航栏，再次点击可以放大导航栏。

![1](/Users/yaorunmao/Desktop/8.png)

+ 鼠标悬浮在标题栏的**用户头像**上，会弹出下拉菜单，点击**用户信息**可以跳转到用户信息页，点击**用户设置**可以跳转到用户设置页，点击**退出登录**可以退出登录。

##### 登录页

![1](/Users/yaorunmao/Desktop/2.png)

![1](/Users/yaorunmao/Desktop/3.png)

+ 左侧是图片轮播组件，简单介绍网页的功能。
+ 右侧是登录组件，分为**密码登录**和**验证码登录**，前者输入账号和密码，后者输入手机号和短信验证码，之后点击**登录**按钮即可登录，如没有账号可以点击登录按钮下方的**注册账号**按钮跳转到注册页。

##### 注册页

![1](/Users/yaorunmao/Desktop/4.png)

+ 用户账号分为两种——**普通用户**和**管理员**。

![1](/Users/yaorunmao/Desktop/5.png)

+ 普通用户填写相应字段后点击**注册按钮**即可完成账号注册。

![1](/Users/yaorunmao/Desktop/6.png)

+ 管理员相比普通用户要额外填写**管理员邀请码**，完成填写后点击**注册按钮**即可完成账号注册。

##### 排行榜

![1](/Users/yaorunmao/Desktop/9.png)

+ 排行榜页面有一个欢迎页，可以通过**鼠标下滑**或点击**Get Started**进入排行榜主页

![1](/Users/yaorunmao/Desktop/10.png)

+ 页面左上方是搜索框，输入关键字后点击**搜索按钮**即可搜索模型。点击右上方的**下载**即可以`csv`格式下载排行榜。点击右上方的**齿轮**后在下拉菜单中可以选择排行榜展示的信息条目，可额外显示所有模型在特定数据集上的得分，在下拉菜单中**上下拖动**菜单项可以调整显示顺序。
+ 页面中间是排行榜，点击任何一个表头都可以**重新排序**。每个模型右侧都有**查看**按钮，点击可以查看模型详情。

![1](/Users/yaorunmao/Desktop/11.png)

+ 模型详情页包括四个标签页：**详细信息**、**数据集表现**、**对抗记录**、**讨论区**，点击模型详情页上方的**关注**即可关注该模型。
+ 在详细信息标签页可查看模型的基本信息。

![1](/Users/yaorunmao/Desktop/12.png)

+ 在数据集表现标签页可查看模型在不同数据集上的得分，可以通过上方的**筛选框**筛选数据集。

![1](/Users/yaorunmao/Desktop/13.png)

+ 在对抗记录标签页可查看与该模型相关的对抗评测记录，可以通过上方的**筛选框**筛选评测记录，可以点击每条记录前对抗详情栏的**+**来查看详细记录。

![1](/Users/yaorunmao/Desktop/14.png)

+ 在讨论区页可以**发表评论**、**点赞**、**点踩**、**回复评论**。

##### 数据集

![1](/Users/yaorunmao/Desktop/15.png)

+ 数据集页上方是**筛选框**，输入筛选项后点击**搜索**可以筛选数据集，点击**重置**可以清楚筛选项。先**选中**目标数据集，然后点击**批量下载**即可下载多个数据集文件。
+ 数据集页

### 后端模块

### 接口规范

### 数据库设计

### 其他模块

## 重点和难点问题及其解决方法，以及核心算法

## 测试总结

### 基础要求

#### 功能测试

#### 性能测试

### 提高要求

#### 单元测试

## 系统部署

